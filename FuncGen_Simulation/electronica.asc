Version 4
SHEET 1 2788 2304
WIRE 208 144 160 144
WIRE 336 144 288 144
WIRE 256 192 240 192
WIRE 240 224 240 192
WIRE -816 240 -816 208
WIRE -736 240 -816 240
WIRE -144 240 -416 240
WIRE 0 240 -80 240
WIRE 160 240 160 144
WIRE 160 240 80 240
WIRE 208 240 160 240
WIRE 336 256 336 144
WIRE 336 256 272 256
WIRE 560 256 336 256
WIRE 208 272 160 272
WIRE 432 288 416 288
WIRE -736 304 -1552 304
WIRE -416 304 -416 240
WIRE -416 304 -576 304
WIRE 160 304 160 272
WIRE 432 304 432 288
WIRE 560 304 560 256
WIRE 240 320 240 288
WIRE 336 320 336 288
WIRE -736 336 -1136 336
WIRE 784 336 656 336
WIRE 720 368 720 304
WIRE 656 384 656 336
WIRE 688 384 656 384
WIRE -1552 400 -1552 304
WIRE -1136 400 -1136 336
WIRE -736 400 -816 400
WIRE -480 400 -576 400
WIRE 784 400 784 336
WIRE 784 400 752 400
WIRE 816 400 784 400
WIRE 560 416 560 384
WIRE 688 416 560 416
WIRE -736 432 -768 432
WIRE -480 432 -480 400
WIRE -480 432 -576 432
WIRE 160 432 160 384
WIRE 336 432 336 400
WIRE 432 432 432 384
WIRE 432 432 384 432
WIRE 432 448 432 432
WIRE 560 448 560 416
WIRE -768 464 -768 432
WIRE -768 464 -816 464
WIRE -736 464 -768 464
WIRE -480 464 -480 432
WIRE -480 464 -576 464
WIRE 720 480 720 432
WIRE -816 496 -816 464
WIRE -480 496 -480 464
WIRE 720 496 720 480
WIRE -1552 512 -1552 480
WIRE -1136 512 -1136 480
WIRE 384 512 384 432
WIRE 384 512 256 512
WIRE 432 560 432 528
WIRE 560 560 560 528
WIRE -32 736 -112 736
WIRE 128 736 48 736
WIRE 192 736 128 736
WIRE 320 736 256 736
WIRE 384 736 320 736
WIRE 496 736 448 736
WIRE 592 736 496 736
WIRE 720 736 672 736
WIRE -1824 784 -1904 784
WIRE -1648 784 -1744 784
WIRE -1552 784 -1648 784
WIRE -1408 784 -1472 784
WIRE 320 784 320 736
WIRE -1184 816 -1232 816
WIRE -1056 816 -1104 816
WIRE -416 816 -416 768
WIRE -288 816 -288 768
WIRE -1488 848 -1504 848
WIRE -1136 864 -1152 864
WIRE -1504 880 -1504 848
WIRE -112 880 -112 736
WIRE -32 880 -112 880
WIRE 128 880 128 736
WIRE 128 880 48 880
WIRE 192 880 128 880
WIRE 304 880 272 880
WIRE 352 880 304 880
WIRE 496 880 496 736
WIRE 496 880 432 880
WIRE 592 880 496 880
WIRE 720 880 720 736
WIRE 720 880 672 880
WIRE -1984 896 -2080 896
WIRE -1824 896 -1984 896
WIRE -1648 896 -1648 784
WIRE -1648 896 -1744 896
WIRE -1536 896 -1648 896
WIRE -1152 896 -1152 864
WIRE -1408 912 -1408 784
WIRE -1408 912 -1472 912
WIRE -1360 912 -1408 912
WIRE -1232 912 -1232 816
WIRE -1232 912 -1280 912
WIRE -1184 912 -1232 912
WIRE -1984 928 -1984 896
WIRE -1536 928 -1648 928
WIRE -1056 928 -1056 816
WIRE -1056 928 -1120 928
WIRE -1008 928 -1056 928
WIRE -416 928 -416 896
WIRE -288 928 -288 896
WIRE -1184 944 -1216 944
WIRE -112 960 -112 880
WIRE 720 960 720 880
WIRE -1504 976 -1504 944
WIRE -1216 976 -1216 944
WIRE -1648 992 -1648 928
WIRE -1152 992 -1152 960
WIRE -1984 1024 -1984 1008
WIRE 1136 1024 1136 864
WIRE 1248 1024 1136 1024
WIRE 1376 1024 1328 1024
WIRE 1536 1024 1456 1024
WIRE 1136 1040 1136 1024
WIRE 480 1104 336 1104
WIRE 1088 1104 1088 1088
WIRE 1088 1104 992 1104
WIRE -1648 1120 -1648 1072
WIRE -112 1120 -112 1040
WIRE 432 1120 416 1120
WIRE 720 1120 720 1040
WIRE 992 1136 992 1104
WIRE 416 1152 416 1120
WIRE 1344 1152 1296 1152
WIRE 1504 1152 1424 1152
WIRE 336 1168 336 1104
WIRE 384 1168 336 1168
WIRE 480 1184 480 1104
WIRE 480 1184 448 1184
WIRE 544 1184 480 1184
WIRE 304 1200 304 880
WIRE 384 1200 304 1200
WIRE 416 1248 416 1216
WIRE 1136 1248 1136 1120
WIRE -1776 1344 -1904 1344
WIRE -1600 1344 -1696 1344
WIRE -1504 1344 -1600 1344
WIRE -1360 1344 -1424 1344
WIRE 1136 1360 1136 1328
WIRE -1440 1408 -1456 1408
WIRE -1456 1440 -1456 1408
WIRE -1776 1456 -1920 1456
WIRE -1600 1456 -1600 1344
WIRE -1600 1456 -1696 1456
WIRE -1488 1456 -1600 1456
WIRE -1360 1472 -1360 1344
WIRE -1360 1472 -1424 1472
WIRE -1280 1472 -1360 1472
WIRE -1072 1472 -1280 1472
WIRE -1488 1488 -1600 1488
WIRE -1456 1536 -1456 1504
WIRE -1600 1552 -1600 1488
WIRE -1600 1680 -1600 1632
WIRE -1600 1888 -1696 1888
WIRE -1440 1888 -1520 1888
WIRE -1360 1888 -1440 1888
WIRE -1200 1888 -1280 1888
WIRE -1120 1888 -1200 1888
WIRE -992 1888 -1040 1888
WIRE -880 1888 -912 1888
WIRE -1440 1936 -1440 1888
WIRE -1568 2000 -1584 2000
WIRE -1056 2000 -1072 2000
WIRE -1584 2032 -1584 2000
WIRE -1072 2032 -1072 2000
WIRE -1840 2048 -1904 2048
WIRE -1696 2048 -1696 1888
WIRE -1696 2048 -1760 2048
WIRE -1616 2048 -1696 2048
WIRE -1200 2048 -1200 1888
WIRE -1104 2048 -1200 2048
WIRE -1440 2064 -1440 2000
WIRE -1440 2064 -1552 2064
WIRE -880 2064 -880 1888
WIRE -880 2064 -1040 2064
WIRE -816 2064 -880 2064
WIRE -1616 2080 -1648 2080
WIRE -1104 2080 -1200 2080
WIRE -1648 2112 -1648 2080
WIRE -1584 2128 -1584 2096
WIRE -1072 2128 -1072 2096
WIRE -1440 2160 -1440 2064
WIRE -1696 2256 -1696 2048
WIRE -1664 2256 -1696 2256
WIRE -1552 2256 -1584 2256
WIRE -1440 2256 -1440 2224
WIRE -1440 2256 -1472 2256
WIRE -1200 2256 -1200 2080
WIRE -1200 2256 -1440 2256
FLAG 160 432 0
FLAG 432 560 0
FLAG 560 560 0
FLAG 336 432 0
FLAG -1136 512 0
FLAG -112 1120 0
FLAG 720 1120 0
FLAG 320 784 0
FLAG -1600 1680 0
FLAG -1648 2112 0
FLAG 544 1184 Offset
IOPIN 544 1184 Out
FLAG -1904 2048 Offset
IOPIN -1904 2048 In
FLAG 816 400 Amp
IOPIN 816 400 Out
FLAG -1920 1456 Amp
IOPIN -1920 1456 In
FLAG -1904 1344 Offset
IOPIN -1904 1344 In
FLAG -1072 1472 Output
IOPIN -1072 1472 Out
FLAG -816 2064 Offset_ADC
IOPIN -816 2064 Out
FLAG 256 512 Amplitude_ADC
IOPIN 256 512 Out
FLAG -288 928 0
FLAG -416 928 0
FLAG -416 768 -12
IOPIN -416 768 In
FLAG -288 768 +12
IOPIN -288 768 In
FLAG 240 320 -12
IOPIN 240 320 In
FLAG 256 192 +12
IOPIN 256 192 In
FLAG 720 304 +12
IOPIN 720 304 In
FLAG 720 480 -12
IOPIN 720 480 In
FLAG -1648 1120 0
FLAG -1904 784 Offset
IOPIN -1904 784 In
FLAG -1984 1024 0
FLAG -1216 976 0
FLAG -1456 1536 -12
IOPIN -1456 1536 In
FLAG -1440 1408 +12
IOPIN -1440 1408 In
FLAG 416 1248 -12
IOPIN 416 1248 In
FLAG 432 1120 +12
IOPIN 432 1120 In
FLAG -1584 2128 -12
IOPIN -1584 2128 In
FLAG -1568 2000 +12
IOPIN -1568 2000 In
FLAG -1072 2128 -12
IOPIN -1072 2128 In
FLAG -1056 2000 +12
IOPIN -1056 2000 In
FLAG -1504 976 -12
IOPIN -1504 976 In
FLAG -1488 848 +12
IOPIN -1488 848 In
FLAG -1152 992 -12
IOPIN -1152 992 In
FLAG -1136 864 +12
IOPIN -1136 864 In
FLAG -1280 1552 0
FLAG -816 496 0
FLAG -480 496 0
FLAG -1552 512 0
FLAG -2080 896 +5V
FLAG -816 208 +5V
FLAG 1136 864 A
FLAG -816 400 A
FLAG 1136 1360 0
FLAG 1536 1024 0
FLAG 992 1136 0
FLAG 1504 1152 0
SYMBOL res 96 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 5.6k
SYMATTR SpiceLine tol=10
SYMBOL res 304 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 33k
SYMATTR SpiceLine tol=10
SYMBOL res 176 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL cap -80 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL res 416 288 R0
SYMATTR InstName R4
SYMATTR Value 50k
SYMATTR SpiceLine tol=10
SYMBOL res 544 288 R0
SYMATTR InstName R5
SYMATTR Value 50k
SYMATTR SpiceLine tol=10
SYMBOL res 416 432 R0
SYMATTR InstName R6
SYMATTR Value 50k
SYMATTR SpiceLine tol=10
SYMBOL res 544 432 R0
SYMATTR InstName R7
SYMATTR Value 50k
SYMATTR SpiceLine tol=10
SYMBOL voltage 336 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -1136 384 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V2
SYMATTR Value SINE(1.65 1.65 10)
SYMBOL res 288 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 75k
SYMBOL res 448 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 25k
SYMATTR SpiceLine tol=10
SYMBOL res 64 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 43 51 VTop 2
SYMATTR InstName R10
SYMATTR Value 47k
SYMATTR SpiceLine tol=10
SYMBOL res 688 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 47k
SYMATTR SpiceLine tol=10
SYMBOL voltage -112 944 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value -12
SYMBOL voltage 720 944 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value +12
SYMBOL zener 192 752 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BZX384B5V1
SYMBOL zener 384 752 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value BZX384B5V1
SYMBOL res -1680 1328 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1408 1328 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1680 1440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1616 1536 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1744 2032 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1504 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1568 2240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 3.3k
SYMATTR SpiceLine tol=10
SYMBOL diode -1456 1936 R0
SYMATTR InstName D3
SYMATTR Value 1N4007
SYMBOL diode -1456 2160 R0
SYMATTR InstName D4
SYMATTR Value 1N4007
SYMBOL res -1264 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMATTR SpiceLine tol=10
SYMBOL res -1024 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 3.3k
SYMATTR SpiceLine tol=10
SYMBOL sym\\ZZZ\\OpAmp\\TL072 240 256 R0
SYMATTR InstName U7
SYMBOL sym\\voltage -416 800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value -12
SYMBOL sym\\voltage -288 800 R0
WINDOW 0 40 -5 Top 2
WINDOW 3 35 115 Bottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 12
SYMBOL sym\\ZZZ\\OpAmp\\TL072 720 400 R0
SYMATTR InstName U1
SYMBOL res -1728 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 33k
SYMBOL res -1456 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 10k
SYMBOL res -1728 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 33k
SYMBOL res -1664 976 R0
SYMATTR InstName R32
SYMATTR Value 10k
SYMBOL sym\\voltage -1984 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 5V
SYMBOL res -1264 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL res -1088 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 10k
SYMBOL sym\\ZZZ\\OpAmp\\TL072 -1456 1472 R0
SYMATTR InstName U2
SYMBOL sym\\ZZZ\\OpAmp\\TL072 416 1184 R0
SYMATTR InstName U3
SYMBOL sym\\ZZZ\\OpAmp\\TL072 -1584 2064 R0
SYMATTR InstName U4
SYMBOL sym\\ZZZ\\OpAmp\\TL072 -1072 2064 R0
SYMATTR InstName U5
SYMBOL sym\\ZZZ\\OpAmp\\TL072 -1504 912 R0
SYMATTR InstName U6
SYMBOL sym\\ZZZ\\OpAmp\\TL072 -1152 928 R0
SYMATTR InstName U8
SYMBOL res -1296 1456 R0
SYMATTR InstName R16
SYMATTR Value 1000
SYMBOL res 64 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 36 54 VTop 2
SYMATTR InstName R22
SYMATTR Value 8.2k
SYMATTR SpiceLine tol=10
SYMBOL res 688 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 8.2k
SYMATTR SpiceLine tol=10
SYMBOL res 432 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL res -896 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 2.7k
SYMBOL res -1456 2240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 2.7k
SYMBOL voltage -1552 384 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V5
SYMATTR Value PULSE(0 1 1p 1p 1p 2.5m 5m)
SYMBOL 4051 -656 336 M0
SYMATTR InstName X2
SYMBOL voltage 1136 1232 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V11
SYMATTR Value 0
SYMBOL njf 1088 1024 R0
SYMATTR InstName J2
SYMATTR Value BF245B
SYMBOL sym\\voltage 1360 1024 R270
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value 5
SYMBOL res 1312 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R35
SYMATTR Value 10k
SYMBOL sym\\voltage 1328 1152 R270
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V13
SYMATTR Value 3.3
SYMBOL res 1344 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value 10k
TEXT -448 136 Left 2 !.lib opamp.sub
TEXT -448 1264 Left 2 !.tran 0.1
TEXT -344 472 Left 2 !;ac dec .10000 0.1 10000000
TEXT -976 824 Left 2 ;De 0 a 2047 el offset es negativo
TEXT -976 864 Left 2 ;De 2048 a 4095 el offset es positivo
TEXT -1464 240 Left 2 !.param Vcc=5 Vel=1 Fin=1k K=1k
RECTANGLE Normal 464 928 160 816 2
